# Описание клиента

- Редактирование проекта происходит польностью на клиенте и синхронизируется с сервером только при нажатии на кнопку "Сохранить"

## Добавление секции страницу проекта

- При нажатии в меню редактирования на "Добавить секцию" или уже существующий элемент "Секция" происходит:

  1.  Открытие модального окна "SectionModal"

  2.  Передача объекта с данными о секции (если нажали на название секции) или пустого объекта (если нажали на "Добавить секцию") в модальное окно посредством состояния "editingSection" (useState в "NavPageMap")

  3.  Заполнение или изменение (заполняется на основе переданных данных) формы

  4.  При нажатии на кнопку "Ок" в проект (представлен json объектом и хранится в сторе на клиенте) вносятся изменения. Если был передан пустой объект, то у него нет id, оно создается при помощи библиотеки uuid и происходит создание секции с данными, которые были внесены в форму. Если id есть, значит секция редактируется, происходит поиск секции в проекте по id и в нее вносятся изменения.

  5.  Проект остается сохраненным только на клиенте, если перезагрузить страницу, то обновления не сохранятся. При нажатии на кнопку "Сохранить", которая при несохраненном проекте становится красной, данные отправятся на сервер, который вернет обновленный проект.

- Закрытие модального окна добавления/редактирования секции:

  1.  Происходит посредством нажатия крестика в верхнем правом углу модального окна

  2.  Реализуется за счет установки состояния "editingSection" в null

## Добавление блока страницу проекта

- При нажатии в меню редактирования на "Добавить элемент" или уже существующий элемент "Блок" происходит:

  1.  Открытие модального окна "BlockModal"

  2.  Передача объекта с данными о блоке (если нажали на название блока) или объекта c одним полем "sectionId", содержащем данные о родительской секции (если нажали на "Добавить элемент"), в модальное окно посредством состояния "editingBlock" (useState в "Section")

  3.  Заполнение или изменение (заполняется на основе переданных данных) формы

  4.  При нажатии на кнопку "Ок" в проект (представлен json объектом и хранится в сторе на клиенте) вносятся изменения. Происходит поиск секции по значению из поля "sectionId". Если был передан объект без поля "id", то оно создается при помощи библиотеки uuid и происходит создание блока с данными, которые были внесены в форму, в найденной секции. Если "id" есть, значит блок редактируется, в уже найденной секции происходит поиск блока по "id" и в него вносятся изменения.

  5.  Проект остается сохраненным только на клиенте, если перезагрузить страницу, то обновления не сохранятся. При нажатии на кнопку "Сохранить", которая при несохраненном проекте становится красной, данные отправятся на сервер, который вернет обновленный проект.

- Закрытие модального окна добавления/редактирования блока:

  1.  Происходит посредством нажатия крестика в верхнем правом углу модального окна

  2.  Реализуется за счет установки состояния "editingBlock" в null
